# üíæ 97k Database

**PostgreSQL Schema, Migrations, RLS Policies, –∏ Seed Data –¥–ª—è Supabase**

> –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∞–±–ª–∏—Ü: 17 | RLS –ø–æ–ª–∏—Ç–∏–∫–∏: 8+ | –ú–∏–≥—Ä–∞—Ü–∏–∏: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ

## –ö–æ–Ω—Ç–µ–Ω—Ç

### –¢–∞–±–ª–∏—Ü—ã

#### –£—Ç—é –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
1. `users` - –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. `b2b_clients` - –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã
3. `b2c_clients` - –û–±—ã—á–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã

#### –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞ & –¶–µ–Ω—ã
4. `categories` - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
5. `products` - –ü–æ–ª–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
6. `b2b_prices` - –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –¥–ª—è B2B
7. `favorite_products` - –û–±–ª—é–±–ª–µ–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã

#### –ó–∞–∫–∞–∑—ã
8. `orders` - –ì–ª–∞–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∑–∞–∫–∞–∑–æ–≤
9. `order_items` - –¢–æ–≤–∞—Ä—ã –≤ –∑–∞–∫–∞–∑–µ
10. `shipping_addresses` - –ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏

#### –î–æ–∫—É–º–µ–Ω—Ç—ã
11. `documents` - –°—á–µ—Ç–∞, –∞–∫—Ç—ã, –£–ü–î

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
12. `integration_logs` - –õ–æ–≥–∏ –≤—Å–µ—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π

## –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

### Supabase

```bash
# –ö–æ–ø–∏—Ä—É–µ–º –≤—Å–µ SQL –∏—Å –ø–∞–ø–∫–∏ migrations/
# –≤ Supabase SQL Editor
```

### Prisma

```bash
# –ü—É–ª–ª —Å—Ö–µ–º—ã Prisma
npx prisma db pull

# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–ª–∏–µ–Ω—Ç
npx prisma generate

# –û—Ç–∫—Ä—ã–≤–∞–µ–º Prisma Studio
npx prisma studio
```

## RLS –ü–æ–ª–∏—Ç–∏–∫–∏

- **Users**: –ú–æ–≥—É—Ç –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
- **B2B Prices**: –í–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º B2B –∫–ª–∏–µ–Ω—Ç–∞–º
- **Orders**: –ö–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∑–∞–∫–∞–∑—ã
- **Documents**: –ö–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã

## Seed –î–∞–Ω–Ω—ã–µ

```bash
# –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ–ª–Ω—ã–µ –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
npm run seed
```
